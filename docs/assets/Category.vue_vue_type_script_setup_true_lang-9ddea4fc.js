import{_ as I}from"./SnackBar.vue_vue_type_script_setup_true_lang-12957a92.js";import{_ as S}from"./CategoryColors.vue_vue_type_script_setup_true_lang-6fe97ca5.js";import{_ as b}from"./CategoryColorVariantAdd.vue_vue_type_script_setup_true_lang-6f5f7d10.js";import{a as A}from"./axios-5c1a43ed.js";import{d as R,k as r,o as _,b as v,w as a,p as e,N as $,aK as h,a6 as c,a7 as u,ai as T,q as t,aL as B,S as L,$ as f,C as N,H as m,c as E,F,a as U,K,m as O}from"./index-0d4070de.js";import{V as q,a as C}from"./VRadioGroup-016848ca.js";import{V as k}from"./VSpacer-e5b4c91c.js";import{V as G}from"./VDialog-bcfbdd42.js";const H=O("h6",{class:"text-h6"}," Available Stone Color ",-1),ee=R({__name:"Category",setup(j,{expose:y}){const s=r(),d=r(!1),V=r(null),i=r(!1),p=r(!1),g=r(null);y({openDialog:(n,l)=>{d.value=n,s.value=l,sessionStorage.setItem("stoneID",s.value.id)}});const x=()=>{V.value.openAddDialog()},w=async()=>{i.value=!0;try{const n=await A.delete(`/products/${sessionStorage.getItem("stoneID")}/`);g.value.show("success",n.data),console.log(n),i.value=!1,setTimeout(()=>{window.location.reload()},1e3)}catch(n){console.error("Error adding product:",n),g.value.show("error",`Error adding product: ${n.message}`),i.value=!1,setTimeout(()=>{window.location.reload()},1e3)}},D=()=>{p.value=!0,setTimeout(()=>{console.log("Apply changes"),p.value=!1},3e3)};return(n,l)=>(_(),v(G,{modelValue:t(d),"onUpdate:modelValue":l[3]||(l[3]=o=>K(d)?d.value=o:null),width:"800",height:"900"},{default:a(()=>[e($,null,{default:a(()=>[e(h,null,{default:a(()=>[e(c,null,{default:a(()=>[e(u,{cols:"6"},{default:a(()=>[e(T,{src:t(s).image},null,8,["src"])]),_:1}),e(u,null,{default:a(()=>[e(B,{modelValue:t(s).name,"onUpdate:modelValue":l[0]||(l[0]=o=>t(s).name=o),label:"Label"},null,8,["modelValue"]),e(q,{modelValue:t(s).isInStock,"onUpdate:modelValue":l[1]||(l[1]=o=>t(s).isInStock=o),inline:""},{default:a(()=>[e(C,{label:"In Stock",value:!0}),e(C,{label:"Out of Stock",value:!1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(L,{class:"my-3"}),e(c,null,{default:a(()=>[e(u,{class:"d-flex align-center"},{default:a(()=>[H,e(k),e(f,{color:"primary",variant:"text",onClick:x},{default:a(()=>[e(N,{start:"",icon:"mdi-plus"}),m(" Add ")]),_:1})]),_:1})]),_:1}),e(c,null,{default:a(()=>[(_(!0),E(F,null,U(t(s).colors,o=>(_(),v(u,{key:o.name,cols:"12",md:"6",sm:"4"},{default:a(()=>[e(S,{"stone-variant":o},null,8,["stone-variant"])]),_:2},1024))),128))]),_:1}),e(c,null,{default:a(()=>[e(u,{class:"d-flex gap-x-2"},{default:a(()=>[e(f,{variant:"text",color:"error",loading:t(i),onClick:w},{default:a(()=>[m(" Delete ")]),_:1},8,["loading"]),e(k),e(f,{variant:"outlined",onClick:l[2]||(l[2]=o=>d.value=!1)},{default:a(()=>[m(" Cancel ")]),_:1}),e(f,{loading:t(p),variant:"outlined",onClick:D},{default:a(()=>[m(" Apply Changes ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{ref_key:"CategoryVariantAddRef",ref:V},null,512),e(I,{ref_key:"snackbarRef",ref:g},null,512)]),_:1},8,["modelValue"]))}});export{ee as _};
