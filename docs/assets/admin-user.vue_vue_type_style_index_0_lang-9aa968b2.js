import{d as O,k as v,o as _,c as j,p as e,w as t,F as q,a as H,b as h,C as x,s as C,D as U,m as b,M as f,H as u,q as i,I as B,L as W}from"./index-4ab622e1.js";import{S as z}from"./sweetalert2.all-a5a48bea.js";import{a as A}from"./axios-61730b5d.js";import{V as Z}from"./VDataTable-c794c238.js";import{a as o,V as c}from"./VRow-515f17ea.js";import{V as P,d as M}from"./VCard-d1998f1a.js";import{V as N,a as G}from"./VSnackbar-c59fca88.js";import{b as p,a as d}from"./VTextField-6be7a4e5.js";import{V as E}from"./VFileInput-5dc94f11.js";import{c as g}from"./VCheckboxBtn-d8c6d9ff.js";import{V as I}from"./VDialog-2c4157ed.js";const K={class:"flex-center"},Q=b("span",{class:"text-h6"}," Permission ",-1),X={class:"d-flex mt-5",style:{"justify-content":"space-between"}},Y={class:"d-flex gap-x-3"},ee=b("h6",{class:"text-h6"}," Permission ",-1),pe=O({__name:"admin-user",props:{search:String},setup(T){const D=T;v([{id:1,name:"Alex",email:"alex@mailservice.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:2,name:"Sam",email:"sam@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:3,name:"Chris",email:"chris@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:4,name:"Jordan",email:"jordan@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:5,name:"Taylor",email:"taylor@post.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:6,name:"Morgan",email:"morgan@webmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:7,name:"Casey",email:"casey@mail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:8,name:"Jamie",email:"jamie@inbox.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:9,name:"Riley",email:"riley@email.net",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:10,name:"Cameron",email:"cameron@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:11,name:"Alex",email:"alex@mailservice.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:12,name:"Sam",email:"sam@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:13,name:"Chris",email:"chris@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:14,name:"Jordan",email:"jordan@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:15,name:"Taylor",email:"taylor@post.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:16,name:"Morgan",email:"morgan@webmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:17,name:"Casey",email:"casey@mail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:18,name:"Jamie",email:"jamie@inbox.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:19,name:"Riley",email:"riley@email.net",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:20,name:"Cameron",email:"cameron@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:21,name:"Alex",email:"alex@mailservice.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:22,name:"Sam",email:"sam@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:23,name:"Chris",email:"chris@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:24,name:"Jordan",email:"jordan@site.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:25,name:"Taylor",email:"taylor@post.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:26,name:"Morgan",email:"morgan@webmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:27,name:"Casey",email:"casey@mail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:28,name:"Jamie",email:"jamie@inbox.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:29,name:"Riley",email:"riley@email.net",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}},{id:30,name:"Cameron",email:"cameron@netmail.com",photo:"https://static.vecteezy.com/system/resources/previews/021/276/728/original/cute-cow-cow-illustration-baby-cow-animal-illustration-png.png",permission:{administrator:!0,content_managing:!0,support:!0,analytics:!0,product_managing:!0}}]);const y=v(!1),w=v(!1),r=v(),n=v({first_name:"",last_name:"",email:"",password:"",contact_number:"",address:"",is_admin:!1,permissions:{is_administrator:!1,is_content_managing:!1,is_support:!1,is_analytics:!1,is_product_managing:!1}}),F=[{title:"USER",key:"first_name"},{title:"EMAIL",key:"email"},{title:"PERMISSION",key:"permissions"},{title:"ACTION",key:"action"}],$=l=>{r.value=l,y.value=!0},L=async()=>{console.log(r.value.raw);try{const l=await A.delete(`/users/get_users/${r.value.raw.id}/`);z.fire({title:"Deleted Successfully",text:"The user has been deleted.",icon:"success",timer:1500,timerProgressBar:!0,showConfirmButton:!1}),y.value=!1,console.log("User deleted successfully:",l.data),k()}catch(l){console.error("Deletion error:",l),z.fire({title:"Error",text:"Failed to delete the user.",icon:"error",showConfirmButton:!0})}},S=v(),k=async()=>{const l=await A.get("/users/get_users/");S.value=l.data,S.value=S.value.filter(a=>a.is_admin)};k();const R=async()=>{console.log(r.value.raw);try{const l=await A.put(`/users/get_users/${r.value.raw.id}/`,r.value.raw);z.fire({title:"Updated Succesfully",timer:1500,timerProgressBar:!0,showConfirmButton:!1}),y.value=!1,console.log("User updated successfully:",l.data),k()}catch(l){console.error("Update error:",l)}};async function J(){try{const l=await A.post("/users/register/",{first_name:n.value.first_name,last_name:n.value.last_name,email:n.value.email,password:n.value.password,contact_number:n.value.contact_number,address:n.value.address,is_admin:!0,permissions:{is_administrator:n.value.permissions.is_administrator,is_content_managing:n.value.permissions.is_content_managing,is_support:n.value.permissions.is_support,is_analytics:n.value.permissions.is_analytics,is_product_managing:n.value.permissions.is_product_managing}});console.log("submitted"),z.fire({title:"Successfully Added!",text:"We've sent an email to the registered user. Please check and verify the account.",icon:"success"}),w.value=!1,k()}catch(l){z.fire({title:`${Object.keys(l.response.data)[0].replace(/[^A-Za-z0-9]+/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")}: ${Object.values(l.response.data)[0]}`,icon:"error"}),console.error("Signup error:",Object.values(l.response.data)[0]),w.value=!1}}return(l,a)=>(_(),j("section",null,[e(i(Z),{headers:F,items:i(S),search:D.search,"items-per-page":10,"show-select":""},{"item.permissions":t(({item:s})=>[(_(!0),j(q,null,H(s.props.title.permissions,(V,m)=>(_(),j("span",{key:m},[m==="is_administrator"&&V===!0?(_(),h(x,{key:0,icon:"bx-user",class:C(m)},null,8,["class"])):U("",!0),m==="is_analytics"&&V===!0?(_(),h(x,{key:1,icon:"bx-stats",class:C(m)},null,8,["class"])):U("",!0),m==="is_support"&&V===!0?(_(),h(x,{key:2,icon:"bx-headphone",class:C(m)},null,8,["class"])):U("",!0),m==="is_product_managing"&&V===!0?(_(),h(x,{key:3,icon:"bx-box",class:C(m)},null,8,["class"])):U("",!0),m==="is_content_managing"&&V===!0?(_(),h(x,{key:4,icon:"bx-edit",class:C(m)},null,8,["class"])):U("",!0)]))),128))]),"item.action":t(({item:s})=>[b("div",K,[e(f,{variant:"text",size:"small",onClick:()=>$(s)},{default:t(()=>[u(" Edit ")]),_:2},1032,["onClick"])])]),_:1},8,["items","search"]),e(c,null,{default:t(()=>[e(o,{class:"d-flex justify-end gap-x-2"},{default:t(()=>[e(f,{onClick:a[0]||(a[0]=s=>w.value=!0)},{default:t(()=>[u(" Add User ")]),_:1})]),_:1})]),_:1}),e(I,{modelValue:i(y),"onUpdate:modelValue":a[11]||(a[11]=s=>B(y)?y.value=s:null),"max-width":"500"},{default:t(()=>[e(P,null,{default:t(()=>[e(M,{style:{padding:"2rem"}},{default:t(()=>[e(N,null,{default:t(()=>[e(c,{class:"mb-3"},{default:t(()=>[e(o,{cols:"6"},{default:t(()=>[e(p,{modelValue:i(r).raw.first_name,"onUpdate:modelValue":a[1]||(a[1]=s=>i(r).raw.first_name=s),label:"First Name"},null,8,["modelValue"])]),_:1}),e(o,{cols:"6"},{default:t(()=>[e(p,{modelValue:i(r).raw.last_name,"onUpdate:modelValue":a[2]||(a[2]=s=>i(r).raw.last_name=s),label:"Last Name"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(p,{modelValue:i(r).raw.email,"onUpdate:modelValue":a[3]||(a[3]=s=>i(r).raw.email=s),label:"Email",disabled:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12"},{default:t(()=>[e(E,{label:"Avatar Upload",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"bx-camera"})]),_:1})]),_:1}),Q,e(c,{class:"mt-1"},{default:t(()=>[e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"administrator",modelValue:i(r).raw.permissions.is_administrator,"onUpdate:modelValue":a[4]||(a[4]=s=>i(r).raw.permissions.is_administrator=s)},null,8,["modelValue"]),e(d,{for:"administrator"},{default:t(()=>[u(" Administrator ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"analytics",modelValue:i(r).raw.permissions.is_analytics,"onUpdate:modelValue":a[5]||(a[5]=s=>i(r).raw.permissions.is_analytics=s)},null,8,["modelValue"]),e(d,{for:"analytics"},{default:t(()=>[u(" Analytics ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"content_managing",modelValue:i(r).raw.permissions.is_content_managing,"onUpdate:modelValue":a[6]||(a[6]=s=>i(r).raw.permissions.is_content_managing=s)},null,8,["modelValue"]),e(d,{for:"content_managing"},{default:t(()=>[u(" Content Managing ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"product_managing",modelValue:i(r).raw.permissions.is_product_managing,"onUpdate:modelValue":a[7]||(a[7]=s=>i(r).raw.permissions.is_product_managing=s)},null,8,["modelValue"]),e(d,{for:"product_managing"},{default:t(()=>[u(" Product Managing ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"support",modelValue:i(r).raw.permissions.is_support,"onUpdate:modelValue":a[8]||(a[8]=s=>i(r).raw.permissions.is_support=s)},null,8,["modelValue"]),e(d,{for:"support"},{default:t(()=>[u(" Support ")]),_:1})]),_:1})]),_:1}),b("div",X,[b("div",null,[e(f,{color:"error",variant:"outlined",onClick:a[9]||(a[9]=s=>L(i(r).raw.id))},{default:t(()=>[u(" Delete ")]),_:1})]),b("div",Y,[e(f,{variant:"outlined",onClick:a[10]||(a[10]=s=>y.value=!1)},{default:t(()=>[u(" Back ")]),_:1}),e(f,{onClick:R},{default:t(()=>[u(" Save Changes ")]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,{modelValue:i(w),"onUpdate:modelValue":a[25]||(a[25]=s=>B(w)?w.value=s:null),"max-width":"600"},{default:t(()=>[e(P,null,{default:t(()=>[e(M,null,{default:t(()=>[e(N,{onSubmit:W(J,["prevent"])},{default:t(()=>[e(c,null,{default:t(()=>[e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).first_name,"onUpdate:modelValue":a[12]||(a[12]=s=>i(n).first_name=s),label:"First Name"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).last_name,"onUpdate:modelValue":a[13]||(a[13]=s=>i(n).last_name=s),label:"Last Name"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).contact_number,"onUpdate:modelValue":a[14]||(a[14]=s=>i(n).contact_number=s),label:"Contact Number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).address,"onUpdate:modelValue":a[15]||(a[15]=s=>i(n).address=s),label:"Address"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,null,{default:t(()=>[e(p,{modelValue:i(n).email,"onUpdate:modelValue":a[16]||(a[16]=s=>i(n).email=s),label:"Email"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).password,"onUpdate:modelValue":a[17]||(a[17]=s=>i(n).password=s),label:"Password"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"6"},{default:t(()=>[e(p,{modelValue:i(n).password_confirmation,"onUpdate:modelValue":a[18]||(a[18]=s=>i(n).password_confirmation=s),label:"Confirm Password"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,{cols:"12"},{default:t(()=>[e(E,{label:"Avatar Upload",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"bx-camera"})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,null,{default:t(()=>[ee]),_:1})]),_:1}),e(c,{class:"mt-1"},{default:t(()=>[e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"administrator",modelValue:i(n).permissions.is_administrator,"onUpdate:modelValue":a[19]||(a[19]=s=>i(n).permissions.is_administrator=s)},null,8,["modelValue"]),e(d,{for:"administrator"},{default:t(()=>[u(" Administrator ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"analytics",modelValue:i(n).permissions.is_analytics,"onUpdate:modelValue":a[20]||(a[20]=s=>i(n).permissions.is_analytics=s)},null,8,["modelValue"]),e(d,{for:"analytics"},{default:t(()=>[u(" Analytics ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"content_managing",modelValue:i(n).permissions.is_content_managing,"onUpdate:modelValue":a[21]||(a[21]=s=>i(n).permissions.is_content_managing=s)},null,8,["modelValue"]),e(d,{for:"content_managing"},{default:t(()=>[u(" Content Managing ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"product_managing",modelValue:i(n).permissions.is_product_managing,"onUpdate:modelValue":a[22]||(a[22]=s=>i(n).permissions.is_product_managing=s)},null,8,["modelValue"]),e(d,{for:"product_managing"},{default:t(()=>[u(" Product Managing ")]),_:1})]),_:1}),e(o,{class:"d-flex align-center",cols:"4"},{default:t(()=>[e(g,{id:"support",modelValue:i(n).permissions.is_support,"onUpdate:modelValue":a[23]||(a[23]=s=>i(n).permissions.is_support=s)},null,8,["modelValue"]),e(d,{for:"support"},{default:t(()=>[u(" Support ")]),_:1})]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(o,{class:"d-flex justify-end gap-x-2"},{default:t(()=>[e(f,{variant:"outlined",onClick:a[24]||(a[24]=s=>w.value=!1)},{default:t(()=>[u(" Cancel ")]),_:1}),e(f,{type:"submit"},{default:t(()=>[u(" Submit ")]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:l.invalidCredentialsError,"onUpdate:modelValue":a[26]||(a[26]=s=>l.invalidCredentialsError=s),location:"top end",variant:"flat",color:"error"},{default:t(()=>[u(" Invalid Credentials ")]),_:1},8,["modelValue"])]))}});export{pe as _};
