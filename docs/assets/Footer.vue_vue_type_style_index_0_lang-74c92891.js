import{_ as w}from"./SnackBar.vue_vue_type_script_setup_true_lang-12957a92.js";import x from"./SkeletonSection-170f169a.js";import{a as _}from"./axios-5c1a43ed.js";import{d as y,k as c,aH as k,o as p,c as C,p as a,w as o,q as l,b,aK as g,a6 as F,a7 as r,aL as u,m as i,$ as N,C as h,H as B,N as U}from"./index-0d4070de.js";import{V as D}from"./VForm-1f016451.js";import{V as S}from"./VSpacer-e5b4c91c.js";const T=i("div",{class:"d-flex justify-space-between"},[i("h6",{class:"text-h6 text-primary mb-3"}," Footer ")],-1),R={class:"d-flex mt-3"},A={class:"custom-loader"},E=y({__name:"Footer",setup(H){const e=c({id:"",website:"",contact1:"",contact2:"",address:"",subtitle:""}),f=c(),d=c(null),m=c(!1),V=async()=>{const s=await _.get("/contents/footer/1");e.value=s.data},v=async()=>{m.value=!0;const s=new FormData;s.append("website",e.value.website),s.append("contact1",e.value.contact1),s.append("contact2",e.value.contact2),s.append("address",e.value.address),s.append("subtitle",e.value.subtitle),f.value&&s.append("logo",f.value[0]);try{const t=await _.patch("/contents/footer/1/",s,{headers:{"Content-Type":"multipart/form-data"}});d.value&&t.status===200&&d.value.show("success","Success"),V(),m.value=!1}catch{d.value&&d.value.show("error","Please contact your administrator.")}};return k(()=>{V()}),(s,t)=>(p(),C("section",null,[a(U,null,{default:o(()=>[a(w,{ref_key:"snackbarRef",ref:d},null,512),l(e).id?(p(),b(g,{key:0,class:"d-flex flex-column"},{default:o(()=>[T,a(D,null,{default:o(()=>[a(F,null,{default:o(()=>[a(r,{cols:"6"},{default:o(()=>[a(u,{modelValue:l(e).website,"onUpdate:modelValue":t[0]||(t[0]=n=>l(e).website=n),label:"Website Link"},null,8,["modelValue"])]),_:1}),a(r,{cols:"6"},{default:o(()=>[a(u,{modelValue:l(e).contact1,"onUpdate:modelValue":t[1]||(t[1]=n=>l(e).contact1=n),label:"Contact Number 1"},null,8,["modelValue"])]),_:1}),a(r,{cols:"6"},{default:o(()=>[a(u,{modelValue:l(e).contact2,"onUpdate:modelValue":t[2]||(t[2]=n=>l(e).contact2=n),label:"Contact Number 2"},null,8,["modelValue"])]),_:1}),a(r,{cols:"6"},{default:o(()=>[a(u,{modelValue:l(e).address,"onUpdate:modelValue":t[3]||(t[3]=n=>l(e).address=n),label:"Address"},null,8,["modelValue"])]),_:1}),a(r,{cols:"6"},{default:o(()=>[a(u,{modelValue:l(e).subtitle,"onUpdate:modelValue":t[4]||(t[4]=n=>l(e).subtitle=n),label:"Subtitle"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),i("div",R,[a(S),a(N,{loading:l(m),color:"primary",onClick:v},{loader:o(()=>[i("span",A,[a(h,{icon:"bx-refresh"})])]),default:o(()=>[B(" Apply Changes ")]),_:1},8,["loading"])])]),_:1})):(p(),b(x,{key:1}))]),_:1})]))}});export{E as _};
