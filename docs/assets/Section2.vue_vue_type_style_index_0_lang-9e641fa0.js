import{_ as C}from"./SnackBar.vue_vue_type_script_setup_true_lang-12957a92.js";import k from"./SkeletonSection-170f169a.js";import{a as y}from"./axios-5c1a43ed.js";import{d as w,k as u,aH as B,o as V,c as P,p as e,w as n,q as t,b as g,aK as S,m,a6 as U,a7 as d,aL as c,K as h,$ as T,C as D,H as F,N}from"./index-0d4070de.js";import{V as R}from"./VCheckbox-0eafe6aa.js";import{V as H}from"./VForm-1f016451.js";import{V as I}from"./VTextarea-b644ab7a.js";import{V as b}from"./VFileInput-d0feb3ff.js";import{V as K}from"./VSpacer-e5b4c91c.js";const L={class:"d-flex justify-space-between"},$=m("h6",{class:"text-h6 text-primary mb-3"}," Landing Page (Section 2) ",-1),j={class:"d-flex mt-3"},q={class:"custom-loader"},Y=w({__name:"Section2",setup(A){const o=u({id:"",heading_1:"",body:"",photo_caption_1:"",photo_caption_2:"",photo_caption_3:""}),p=u(),i=u(),r=u(),_=u(null),f=u(!1),v=async()=>{const s=await y.get("/contents/section2/2/");o.value=s.data},x=async()=>{f.value=!0;const s=new FormData;s.append("body",o.value.body),s.append("heading_1",o.value.heading_1),s.append("photo_caption_1",o.value.photo_caption_1),s.append("photo_caption_2",o.value.photo_caption_2),s.append("photo_caption_3",o.value.photo_caption_3),p.value&&s.append("banner_1",p.value[0]),i.value&&s.append("banner_2",i.value[0]),r.value&&s.append("banner_3",r.value[0]);try{const a=await y.patch("/contents/section2/2/",s,{headers:{"Content-Type":"multipart/form-data"}});_.value&&a.status===200&&_.value.show("success","Success"),v(),f.value=!1}catch{_.value&&_.value.show("error","Please contact your administrator.")}};return B(()=>{v()}),(s,a)=>(V(),P("section",null,[e(N,null,{default:n(()=>[e(C,{ref_key:"snackbarRef",ref:_},null,512),t(o).id?(V(),g(S,{key:0,class:"d-flex flex-column"},{default:n(()=>[m("div",L,[$,e(R,{label:"Show Section"})]),e(H,null,{default:n(()=>[e(U,null,{default:n(()=>[e(d,{cols:"12"},{default:n(()=>[e(c,{modelValue:t(o).heading_1,"onUpdate:modelValue":a[0]||(a[0]=l=>t(o).heading_1=l),label:"Heading 1"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:n(()=>[e(I,{modelValue:t(o).body,"onUpdate:modelValue":a[1]||(a[1]=l=>t(o).body=l),label:"Body"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(c,{modelValue:t(o).photo_caption_1,"onUpdate:modelValue":a[2]||(a[2]=l=>t(o).photo_caption_1=l),label:"Photo Caption 1"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(b,{modelValue:t(p),"onUpdate:modelValue":a[3]||(a[3]=l=>h(p)?p.value=l:null),label:"Banner Photo 1",accept:"image/*"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(c,{modelValue:t(o).photo_caption_2,"onUpdate:modelValue":a[4]||(a[4]=l=>t(o).photo_caption_2=l),label:"Photo Caption 2"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(b,{modelValue:t(i),"onUpdate:modelValue":a[5]||(a[5]=l=>h(i)?i.value=l:null),label:"Banner Photo 2",accept:"image/*"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(c,{modelValue:t(o).photo_caption_3,"onUpdate:modelValue":a[6]||(a[6]=l=>t(o).photo_caption_3=l),label:"Photo Caption 3"},null,8,["modelValue"])]),_:1}),e(d,{cols:"6"},{default:n(()=>[e(b,{modelValue:t(r),"onUpdate:modelValue":a[7]||(a[7]=l=>h(r)?r.value=l:null),label:"Banner Photo 3",accept:"image/*"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),m("div",j,[e(K),e(T,{loading:t(f),color:"primary",onClick:x},{loader:n(()=>[m("span",q,[e(D,{icon:"bx-refresh"})])]),default:n(()=>[F(" Apply Changes ")]),_:1},8,["loading"])])]),_:1})):(V(),g(k,{key:1}))]),_:1})]))}});export{Y as _};
