import{_ as x}from"./SnackBar.vue_vue_type_script_setup_true_lang-12957a92.js";import k from"./SkeletonSection-170f169a.js";import{a as g}from"./axios-5c1a43ed.js";import{d as w,k as i,aH as C,o as f,c as B,p as e,w as l,q as t,b as V,aK as F,a6 as L,a7 as c,aL as v,K as h,m,$ as D,C as H,H as I,N}from"./index-0d4070de.js";import{V as P}from"./VForm-1f016451.js";import{V as y}from"./VFileInput-d0feb3ff.js";import{V as R}from"./VSpacer-e5b4c91c.js";const T=m("div",{class:"d-flex justify-space-between"},[m("h6",{class:"text-h6 text-primary mb-3"}," Log In Page ")],-1),U={class:"d-flex mt-3"},S={class:"custom-loader"},G=w({__name:"Login",setup(K){const o=i({id:"",body:"",heading_1:"",heading_2:""}),d=i(),r=i(),u=i(null),p=i(!1),_=async()=>{const n=await g.get("/contents/login_page/2/");o.value=n.data},b=async()=>{p.value=!0;const n=new FormData;n.append("heading_1",o.value.heading_1),n.append("heading_2",o.value.heading_2),n.append("body",o.value.body),d.value&&n.append("logo",d.value[0]),r.value&&n.append("banner",r.value[0]);try{const a=await g.patch("/contents/login_page/2/",n,{headers:{"Content-Type":"multipart/form-data"}});u.value&&a.status===200&&u.value.show("success","Success"),_(),p.value=!1}catch{u.value&&u.value.show("error","Please contact your administrator.")}};return C(()=>{_()}),(n,a)=>(f(),B("section",null,[e(N,null,{default:l(()=>[e(x,{ref_key:"snackbarRef",ref:u},null,512),t(o).id?(f(),V(F,{key:0,class:"d-flex flex-column"},{default:l(()=>[T,e(P,null,{default:l(()=>[e(L,null,{default:l(()=>[e(c,{cols:"6"},{default:l(()=>[e(v,{modelValue:t(o).heading_1,"onUpdate:modelValue":a[0]||(a[0]=s=>t(o).heading_1=s),label:"Heading 1"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6"},{default:l(()=>[e(v,{modelValue:t(o).heading_2,"onUpdate:modelValue":a[1]||(a[1]=s=>t(o).heading_2=s),label:"Heading 2"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6"},{default:l(()=>[e(y,{modelValue:t(d),"onUpdate:modelValue":a[2]||(a[2]=s=>h(d)?d.value=s:null),label:"Logo",accept:"image/*"},null,8,["modelValue"])]),_:1}),e(c,{cols:"6"},{default:l(()=>[e(y,{modelValue:t(r),"onUpdate:modelValue":a[3]||(a[3]=s=>h(r)?r.value=s:null),label:"Banner Photo 1",accept:"image/*"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),m("div",U,[e(R),e(D,{loading:t(p),color:"primary",onClick:b},{loader:l(()=>[m("span",S,[e(H,{icon:"bx-refresh"})])]),default:l(()=>[I(" Apply Changes ")]),_:1},8,["loading"])])]),_:1})):(f(),V(k,{key:1}))]),_:1})]))}});export{G as _};
